{"ast":null,"code":"import React,{useEffect,useState}from'react';import{db}from'./firebaseConfig';import{collection,query,where,getDocs}from\"firebase/firestore\";import{useAuth}from'./AuthProvider';// Assuming this is your authentication context\nimport'./UserProfile.css';// Assuming you have a CSS file for styling\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const UserProfile=()=>{const{currentUser}=useAuth();// Getting the current user from AuthProvider\nconst[completedTasks,setCompletedTasks]=useState([]);useEffect(()=>{const fetchCompletedTasks=async()=>{if(currentUser){const q=query(collection(db,\"tasks\"),where(\"userId\",\"==\",currentUser.uid),where(\"status\",\"==\",\"Completed\"));const querySnapshot=await getDocs(q);const tasks=querySnapshot.docs.map(doc=>({id:doc.id,...doc.data()}));setCompletedTasks(tasks);}};fetchCompletedTasks();},[currentUser]);return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Profile\"}),currentUser&&/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Name: \",currentUser.displayName||'No name set']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",currentUser.email]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"completed-tasks\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Completed Tasks\"}),/*#__PURE__*/_jsx(\"ul\",{children:completedTasks.map(task=>/*#__PURE__*/_jsx(\"li\",{children:task.title},task.id))})]})]});};export default UserProfile;","map":{"version":3,"names":["React","useEffect","useState","db","collection","query","where","getDocs","useAuth","jsx","_jsx","jsxs","_jsxs","UserProfile","currentUser","completedTasks","setCompletedTasks","fetchCompletedTasks","q","uid","querySnapshot","tasks","docs","map","doc","id","data","className","children","displayName","email","task","title"],"sources":["/home/posiden/Documents/GitHub/A.I.D.E.N/aiden_frontend/src/UserProfile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { db } from './firebaseConfig';\nimport { collection, query, where, getDocs } from \"firebase/firestore\";\nimport { useAuth } from './AuthProvider'; // Assuming this is your authentication context\nimport './UserProfile.css'; // Assuming you have a CSS file for styling\n\nconst UserProfile = () => {\n    const { currentUser } = useAuth(); // Getting the current user from AuthProvider\n    const [completedTasks, setCompletedTasks] = useState([]);\n\n    useEffect(() => {\n        const fetchCompletedTasks = async () => {\n            if (currentUser) {\n                const q = query(collection(db, \"tasks\"), where(\"userId\", \"==\", currentUser.uid), where(\"status\", \"==\", \"Completed\"));\n                const querySnapshot = await getDocs(q);\n                const tasks = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n                setCompletedTasks(tasks);\n            }\n        };\n\n        fetchCompletedTasks();\n    }, [currentUser]);\n\n    return (\n        <div className=\"profile-container\">\n            <div className=\"user-info\">\n                <h2>User Profile</h2>\n                {currentUser && (\n                    <div className=\"user-details\">\n                        <p>Name: {currentUser.displayName || 'No name set'}</p>\n                        <p>Email: {currentUser.email}</p>\n                    </div>\n                )}\n            </div>\n            <div className=\"completed-tasks\">\n                <h3>Completed Tasks</h3>\n                <ul>\n                    {completedTasks.map(task => (\n                        <li key={task.id}>{task.title}</li>\n                    ))}\n                </ul>\n            </div>\n        </div>\n    );\n};\n\nexport default UserProfile;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,EAAE,KAAQ,kBAAkB,CACrC,OAASC,UAAU,CAAEC,KAAK,CAAEC,KAAK,CAAEC,OAAO,KAAQ,oBAAoB,CACtE,OAASC,OAAO,KAAQ,gBAAgB,CAAE;AAC1C,MAAO,mBAAmB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5B,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACtB,KAAM,CAAEC,WAAY,CAAC,CAAGN,OAAO,CAAC,CAAC,CAAE;AACnC,KAAM,CAACO,cAAc,CAAEC,iBAAiB,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAExDD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAgB,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAIH,WAAW,CAAE,CACb,KAAM,CAAAI,CAAC,CAAGb,KAAK,CAACD,UAAU,CAACD,EAAE,CAAE,OAAO,CAAC,CAAEG,KAAK,CAAC,QAAQ,CAAE,IAAI,CAAEQ,WAAW,CAACK,GAAG,CAAC,CAAEb,KAAK,CAAC,QAAQ,CAAE,IAAI,CAAE,WAAW,CAAC,CAAC,CACpH,KAAM,CAAAc,aAAa,CAAG,KAAM,CAAAb,OAAO,CAACW,CAAC,CAAC,CACtC,KAAM,CAAAG,KAAK,CAAGD,aAAa,CAACE,IAAI,CAACC,GAAG,CAACC,GAAG,GAAK,CAAEC,EAAE,CAAED,GAAG,CAACC,EAAE,CAAE,GAAGD,GAAG,CAACE,IAAI,CAAC,CAAE,CAAC,CAAC,CAAC,CAC5EV,iBAAiB,CAACK,KAAK,CAAC,CAC5B,CACJ,CAAC,CAEDJ,mBAAmB,CAAC,CAAC,CACzB,CAAC,CAAE,CAACH,WAAW,CAAC,CAAC,CAEjB,mBACIF,KAAA,QAAKe,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC9BhB,KAAA,QAAKe,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBlB,IAAA,OAAAkB,QAAA,CAAI,cAAY,CAAI,CAAC,CACpBd,WAAW,eACRF,KAAA,QAAKe,SAAS,CAAC,cAAc,CAAAC,QAAA,eACzBhB,KAAA,MAAAgB,QAAA,EAAG,QAAM,CAACd,WAAW,CAACe,WAAW,EAAI,aAAa,EAAI,CAAC,cACvDjB,KAAA,MAAAgB,QAAA,EAAG,SAAO,CAACd,WAAW,CAACgB,KAAK,EAAI,CAAC,EAChC,CACR,EACA,CAAC,cACNlB,KAAA,QAAKe,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC5BlB,IAAA,OAAAkB,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBlB,IAAA,OAAAkB,QAAA,CACKb,cAAc,CAACQ,GAAG,CAACQ,IAAI,eACpBrB,IAAA,OAAAkB,QAAA,CAAmBG,IAAI,CAACC,KAAK,EAApBD,IAAI,CAACN,EAAoB,CACrC,CAAC,CACF,CAAC,EACJ,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAZ,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}