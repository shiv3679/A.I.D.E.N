{"ast":null,"code":"import React,{useState}from'react';import{db,auth}from'./firebaseConfig';// Ensure these are imported correctly\nimport{collection,addDoc}from\"firebase/firestore\";import'./AddTaskForm.css';// Ensure you have the CSS file for styling\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AddTaskForm=()=>{const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[dueDate,setDueDate]=useState('');const[priority,setPriority]=useState('Medium');const[status,setStatus]=useState('Not Started');const[tags,setTags]=useState('');const[hasSubtasks,setHasSubtasks]=useState(false);const[subtasks,setSubtasks]=useState([{id:Date.now(),title:'',completed:false}]);const handleSubtaskChange=(index,event)=>{const newSubtasks=[...subtasks];newSubtasks[index].title=event.target.value;setSubtasks(newSubtasks);};const addSubtask=()=>{setSubtasks([...subtasks,{id:Date.now(),title:'',completed:false}]);};const removeSubtask=index=>{const newSubtasks=[...subtasks];newSubtasks.splice(index,1);setSubtasks(newSubtasks);};const handleSubmit=async e=>{e.preventDefault();if(!auth.currentUser){console.error(\"No authenticated user found.\");return;}try{await addDoc(collection(db,\"tasks\"),{userId:auth.currentUser.uid,title,description,dueDate,priority,status,tags:tags.split(',').map(tag=>tag.trim()),subtasks:hasSubtasks?subtasks:[]});console.log(\"Task added successfully!\");// Reset form fields\nsetTitle('');setDescription('');setDueDate('');setPriority('Medium');setStatus('Not Started');setTags('');setHasSubtasks(false);setSubtasks([{id:Date.now(),title:'',completed:false}]);}catch(error){console.error(\"Error adding task: \",error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"task-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add a New Task\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:e=>setTitle(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Due Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dueDate,onChange:e=>setDueDate(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Priority:\"}),/*#__PURE__*/_jsxs(\"select\",{value:priority,onChange:e=>setPriority(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Low\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"High\",children:\"High\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Status:\"}),/*#__PURE__*/_jsxs(\"select\",{value:status,onChange:e=>setStatus(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Not Started\",children:\"Not Started\"}),/*#__PURE__*/_jsx(\"option\",{value:\"In Progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Completed\",children:\"Completed\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tags (comma-separated):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:tags,onChange:e=>setTags(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Has Subtasks:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:hasSubtasks,onChange:e=>setHasSubtasks(e.target.checked)})]}),hasSubtasks&&subtasks.map((subtask,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"subtask\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Subtask title\",value:subtask.title,onChange:e=>handleSubtaskChange(index,e),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeSubtask(index),className:\"icon-btn delete-btn\"})]},subtask.id)),hasSubtasks&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addSubtask,className:\"icon-btn add-btn\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-btn\",children:\"Add Task\"})]})});};export default AddTaskForm;","map":{"version":3,"names":["React","useState","db","auth","collection","addDoc","jsx","_jsx","jsxs","_jsxs","AddTaskForm","title","setTitle","description","setDescription","dueDate","setDueDate","priority","setPriority","status","setStatus","tags","setTags","hasSubtasks","setHasSubtasks","subtasks","setSubtasks","id","Date","now","completed","handleSubtaskChange","index","event","newSubtasks","target","value","addSubtask","removeSubtask","splice","handleSubmit","e","preventDefault","currentUser","console","error","userId","uid","split","map","tag","trim","log","className","children","onSubmit","type","onChange","required","checked","subtask","placeholder","onClick"],"sources":["/home/posiden/Documents/GitHub/A.I.D.E.N/aiden_frontend/src/AddTaskForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { db, auth } from './firebaseConfig'; // Ensure these are imported correctly\nimport { collection, addDoc } from \"firebase/firestore\";\nimport './AddTaskForm.css'; // Ensure you have the CSS file for styling\n\nconst AddTaskForm = () => {\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [dueDate, setDueDate] = useState('');\n    const [priority, setPriority] = useState('Medium');\n    const [status, setStatus] = useState('Not Started');\n    const [tags, setTags] = useState('');\n    const [hasSubtasks, setHasSubtasks] = useState(false);\n    const [subtasks, setSubtasks] = useState([{ id: Date.now(), title: '', completed: false }]);\n\n    const handleSubtaskChange = (index, event) => {\n        const newSubtasks = [...subtasks];\n        newSubtasks[index].title = event.target.value;\n        setSubtasks(newSubtasks);\n    };\n\n    const addSubtask = () => {\n        setSubtasks([...subtasks, { id: Date.now(), title: '', completed: false }]);\n    };\n\n    const removeSubtask = (index) => {\n        const newSubtasks = [...subtasks];\n        newSubtasks.splice(index, 1);\n        setSubtasks(newSubtasks);\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (!auth.currentUser) {\n            console.error(\"No authenticated user found.\");\n            return;\n        }\n\n        try {\n            await addDoc(collection(db, \"tasks\"), {\n                userId: auth.currentUser.uid,\n                title,\n                description,\n                dueDate,\n                priority,\n                status,\n                tags: tags.split(',').map(tag => tag.trim()),\n                subtasks: hasSubtasks ? subtasks : [],\n            });\n            console.log(\"Task added successfully!\");\n            // Reset form fields\n            setTitle('');\n            setDescription('');\n            setDueDate('');\n            setPriority('Medium');\n            setStatus('Not Started');\n            setTags('');\n            setHasSubtasks(false);\n            setSubtasks([{ id: Date.now(), title: '', completed: false }]);\n        } catch (error) {\n            console.error(\"Error adding task: \", error);\n        }\n    };\n\n    return (\n        <div className=\"form-container\">\n            <form onSubmit={handleSubmit} className=\"task-form\">\n                <h2>Add a New Task</h2>\n                <div className=\"form-group\">\n                    <label>Title:</label>\n                    <input type=\"text\" value={title} onChange={(e) => setTitle(e.target.value)} required />\n                </div>\n                <div className=\"form-group\">\n                    <label>Description:</label>\n                    <textarea value={description} onChange={(e) => setDescription(e.target.value)} required />\n                </div>\n                <div className=\"form-group\">\n                    <label>Due Date:</label>\n                    <input type=\"date\" value={dueDate} onChange={(e) => setDueDate(e.target.value)} required />\n                </div>\n                <div className=\"form-group\">\n                    <label>Priority:</label>\n                    <select value={priority} onChange={(e) => setPriority(e.target.value)} required>\n                        <option value=\"Low\">Low</option>\n                        <option value=\"Medium\">Medium</option>\n                        <option value=\"High\">High</option>\n                    </select>\n                </div>\n                <div className=\"form-group\">\n                    <label>Status:</label>\n                    <select value={status} onChange={(e) => setStatus(e.target.value)} required>\n                        <option value=\"Not Started\">Not Started</option>\n                        <option value=\"In Progress\">In Progress</option>\n                        <option value=\"Completed\">Completed</option>\n                    </select>\n                </div>\n                <div className=\"form-group\">\n                    <label>Tags (comma-separated):</label>\n                    <input type=\"text\" value={tags} onChange={(e) => setTags(e.target.value)} />\n                </div>\n                <div className=\"form-group\">\n                    <label>Has Subtasks:</label>\n                    <input type=\"checkbox\" checked={hasSubtasks} onChange={(e) => setHasSubtasks(e.target.checked)} />\n                </div>\n                {hasSubtasks && subtasks.map((subtask, index) => (\n                    <div key={subtask.id} className=\"subtask\">\n                        <input type=\"text\" placeholder=\"Subtask title\" value={subtask.title} onChange={(e) => handleSubtaskChange(index, e)} required />\n                        <button type=\"button\" onClick={() => removeSubtask(index)}className=\"icon-btn delete-btn\"></button>\n                    </div>\n                ))}\n                {hasSubtasks && <button type=\"button\" onClick={addSubtask} className=\"icon-btn add-btn\"></button>}\n                <button type=\"submit\" className=\"submit-btn\">Add Task</button>\n            </form>\n        </div>\n    );\n};\n\nexport default AddTaskForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,EAAE,CAAEC,IAAI,KAAQ,kBAAkB,CAAE;AAC7C,OAASC,UAAU,CAAEC,MAAM,KAAQ,oBAAoB,CACvD,MAAO,mBAAmB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5B,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,WAAW,CAAEC,cAAc,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACgB,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,QAAQ,CAAC,CAClD,KAAM,CAACkB,MAAM,CAAEC,SAAS,CAAC,CAAGnB,QAAQ,CAAC,aAAa,CAAC,CACnD,KAAM,CAACoB,IAAI,CAAEC,OAAO,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACsB,WAAW,CAAEC,cAAc,CAAC,CAAGvB,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACwB,QAAQ,CAAEC,WAAW,CAAC,CAAGzB,QAAQ,CAAC,CAAC,CAAE0B,EAAE,CAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAElB,KAAK,CAAE,EAAE,CAAEmB,SAAS,CAAE,KAAM,CAAC,CAAC,CAAC,CAE3F,KAAM,CAAAC,mBAAmB,CAAGA,CAACC,KAAK,CAAEC,KAAK,GAAK,CAC1C,KAAM,CAAAC,WAAW,CAAG,CAAC,GAAGT,QAAQ,CAAC,CACjCS,WAAW,CAACF,KAAK,CAAC,CAACrB,KAAK,CAAGsB,KAAK,CAACE,MAAM,CAACC,KAAK,CAC7CV,WAAW,CAACQ,WAAW,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAG,UAAU,CAAGA,CAAA,GAAM,CACrBX,WAAW,CAAC,CAAC,GAAGD,QAAQ,CAAE,CAAEE,EAAE,CAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAElB,KAAK,CAAE,EAAE,CAAEmB,SAAS,CAAE,KAAM,CAAC,CAAC,CAAC,CAC/E,CAAC,CAED,KAAM,CAAAQ,aAAa,CAAIN,KAAK,EAAK,CAC7B,KAAM,CAAAE,WAAW,CAAG,CAAC,GAAGT,QAAQ,CAAC,CACjCS,WAAW,CAACK,MAAM,CAACP,KAAK,CAAE,CAAC,CAAC,CAC5BN,WAAW,CAACQ,WAAW,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAM,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAACvC,IAAI,CAACwC,WAAW,CAAE,CACnBC,OAAO,CAACC,KAAK,CAAC,8BAA8B,CAAC,CAC7C,OACJ,CAEA,GAAI,CACA,KAAM,CAAAxC,MAAM,CAACD,UAAU,CAACF,EAAE,CAAE,OAAO,CAAC,CAAE,CAClC4C,MAAM,CAAE3C,IAAI,CAACwC,WAAW,CAACI,GAAG,CAC5BpC,KAAK,CACLE,WAAW,CACXE,OAAO,CACPE,QAAQ,CACRE,MAAM,CACNE,IAAI,CAAEA,IAAI,CAAC2B,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAC5C1B,QAAQ,CAAEF,WAAW,CAAGE,QAAQ,CAAG,EACvC,CAAC,CAAC,CACFmB,OAAO,CAACQ,GAAG,CAAC,0BAA0B,CAAC,CACvC;AACAxC,QAAQ,CAAC,EAAE,CAAC,CACZE,cAAc,CAAC,EAAE,CAAC,CAClBE,UAAU,CAAC,EAAE,CAAC,CACdE,WAAW,CAAC,QAAQ,CAAC,CACrBE,SAAS,CAAC,aAAa,CAAC,CACxBE,OAAO,CAAC,EAAE,CAAC,CACXE,cAAc,CAAC,KAAK,CAAC,CACrBE,WAAW,CAAC,CAAC,CAAEC,EAAE,CAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAElB,KAAK,CAAE,EAAE,CAAEmB,SAAS,CAAE,KAAM,CAAC,CAAC,CAAC,CAClE,CAAE,MAAOe,KAAK,CAAE,CACZD,OAAO,CAACC,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC/C,CACJ,CAAC,CAED,mBACItC,IAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC3B7C,KAAA,SAAM8C,QAAQ,CAAEf,YAAa,CAACa,SAAS,CAAC,WAAW,CAAAC,QAAA,eAC/C/C,IAAA,OAAA+C,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB7C,KAAA,QAAK4C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvB/C,IAAA,UAAA+C,QAAA,CAAO,QAAM,CAAO,CAAC,cACrB/C,IAAA,UAAOiD,IAAI,CAAC,MAAM,CAACpB,KAAK,CAAEzB,KAAM,CAAC8C,QAAQ,CAAGhB,CAAC,EAAK7B,QAAQ,CAAC6B,CAAC,CAACN,MAAM,CAACC,KAAK,CAAE,CAACsB,QAAQ,MAAE,CAAC,EACtF,CAAC,cACNjD,KAAA,QAAK4C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvB/C,IAAA,UAAA+C,QAAA,CAAO,cAAY,CAAO,CAAC,cAC3B/C,IAAA,aAAU6B,KAAK,CAAEvB,WAAY,CAAC4C,QAAQ,CAAGhB,CAAC,EAAK3B,cAAc,CAAC2B,CAAC,CAACN,MAAM,CAACC,KAAK,CAAE,CAACsB,QAAQ,MAAE,CAAC,EACzF,CAAC,cACNjD,KAAA,QAAK4C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvB/C,IAAA,UAAA+C,QAAA,CAAO,WAAS,CAAO,CAAC,cACxB/C,IAAA,UAAOiD,IAAI,CAAC,MAAM,CAACpB,KAAK,CAAErB,OAAQ,CAAC0C,QAAQ,CAAGhB,CAAC,EAAKzB,UAAU,CAACyB,CAAC,CAACN,MAAM,CAACC,KAAK,CAAE,CAACsB,QAAQ,MAAE,CAAC,EAC1F,CAAC,cACNjD,KAAA,QAAK4C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvB/C,IAAA,UAAA+C,QAAA,CAAO,WAAS,CAAO,CAAC,cACxB7C,KAAA,WAAQ2B,KAAK,CAAEnB,QAAS,CAACwC,QAAQ,CAAGhB,CAAC,EAAKvB,WAAW,CAACuB,CAAC,CAACN,MAAM,CAACC,KAAK,CAAE,CAACsB,QAAQ,MAAAJ,QAAA,eAC3E/C,IAAA,WAAQ6B,KAAK,CAAC,KAAK,CAAAkB,QAAA,CAAC,KAAG,CAAQ,CAAC,cAChC/C,IAAA,WAAQ6B,KAAK,CAAC,QAAQ,CAAAkB,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtC/C,IAAA,WAAQ6B,KAAK,CAAC,MAAM,CAAAkB,QAAA,CAAC,MAAI,CAAQ,CAAC,EAC9B,CAAC,EACR,CAAC,cACN7C,KAAA,QAAK4C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvB/C,IAAA,UAAA+C,QAAA,CAAO,SAAO,CAAO,CAAC,cACtB7C,KAAA,WAAQ2B,KAAK,CAAEjB,MAAO,CAACsC,QAAQ,CAAGhB,CAAC,EAAKrB,SAAS,CAACqB,CAAC,CAACN,MAAM,CAACC,KAAK,CAAE,CAACsB,QAAQ,MAAAJ,QAAA,eACvE/C,IAAA,WAAQ6B,KAAK,CAAC,aAAa,CAAAkB,QAAA,CAAC,aAAW,CAAQ,CAAC,cAChD/C,IAAA,WAAQ6B,KAAK,CAAC,aAAa,CAAAkB,QAAA,CAAC,aAAW,CAAQ,CAAC,cAChD/C,IAAA,WAAQ6B,KAAK,CAAC,WAAW,CAAAkB,QAAA,CAAC,WAAS,CAAQ,CAAC,EACxC,CAAC,EACR,CAAC,cACN7C,KAAA,QAAK4C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvB/C,IAAA,UAAA+C,QAAA,CAAO,yBAAuB,CAAO,CAAC,cACtC/C,IAAA,UAAOiD,IAAI,CAAC,MAAM,CAACpB,KAAK,CAAEf,IAAK,CAACoC,QAAQ,CAAGhB,CAAC,EAAKnB,OAAO,CAACmB,CAAC,CAACN,MAAM,CAACC,KAAK,CAAE,CAAE,CAAC,EAC3E,CAAC,cACN3B,KAAA,QAAK4C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvB/C,IAAA,UAAA+C,QAAA,CAAO,eAAa,CAAO,CAAC,cAC5B/C,IAAA,UAAOiD,IAAI,CAAC,UAAU,CAACG,OAAO,CAAEpC,WAAY,CAACkC,QAAQ,CAAGhB,CAAC,EAAKjB,cAAc,CAACiB,CAAC,CAACN,MAAM,CAACwB,OAAO,CAAE,CAAE,CAAC,EACjG,CAAC,CACLpC,WAAW,EAAIE,QAAQ,CAACwB,GAAG,CAAC,CAACW,OAAO,CAAE5B,KAAK,gBACxCvB,KAAA,QAAsB4C,SAAS,CAAC,SAAS,CAAAC,QAAA,eACrC/C,IAAA,UAAOiD,IAAI,CAAC,MAAM,CAACK,WAAW,CAAC,eAAe,CAACzB,KAAK,CAAEwB,OAAO,CAACjD,KAAM,CAAC8C,QAAQ,CAAGhB,CAAC,EAAKV,mBAAmB,CAACC,KAAK,CAAES,CAAC,CAAE,CAACiB,QAAQ,MAAE,CAAC,cAChInD,IAAA,WAAQiD,IAAI,CAAC,QAAQ,CAACM,OAAO,CAAEA,CAAA,GAAMxB,aAAa,CAACN,KAAK,CAAE,CAAAqB,SAAS,CAAC,qBAAqB,CAAS,CAAC,GAF7FO,OAAO,CAACjC,EAGb,CACR,CAAC,CACDJ,WAAW,eAAIhB,IAAA,WAAQiD,IAAI,CAAC,QAAQ,CAACM,OAAO,CAAEzB,UAAW,CAACgB,SAAS,CAAC,kBAAkB,CAAS,CAAC,cACjG9C,IAAA,WAAQiD,IAAI,CAAC,QAAQ,CAACH,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,UAAQ,CAAQ,CAAC,EAC5D,CAAC,CACN,CAAC,CAEd,CAAC,CAED,cAAe,CAAA5C,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}