{"ast":null,"code":"import React,{useEffect,useState}from'react';import{BrowserRouter as Router,Route,Routes,Navigate}from'react-router-dom';import{onAuthStateChanged,signOut}from\"firebase/auth\";import{auth}from'./firebaseConfig';import Navbar from'./Navbar';import TaskList from'./TaskList';import AddTaskForm from'./AddTaskForm';import Login from'./Login';import UserProfile from'./UserProfile';// Import UserProfile\nimport{AuthProvider}from'./AuthProvider';// Import AuthProvider\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[currentUser,setCurrentUser]=useState(null);useEffect(()=>{const unsubscribe=onAuthStateChanged(auth,user=>{setCurrentUser(user);});return()=>unsubscribe();},[]);const handleLogout=async()=>{await signOut(auth);};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(AuthProvider,{value:{currentUser},children:[\" \",/*#__PURE__*/_jsx(\"div\",{children:currentUser?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{handleLogout:handleLogout,currentUser:currentUser}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(TaskList,{})}),/*#__PURE__*/_jsx(Route,{path:\"/add-task\",element:/*#__PURE__*/_jsx(AddTaskForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(UserProfile,{})}),\" \",/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]})]}):/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Route","Routes","Navigate","onAuthStateChanged","signOut","auth","Navbar","TaskList","AddTaskForm","Login","UserProfile","AuthProvider","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","currentUser","setCurrentUser","unsubscribe","user","handleLogout","children","value","path","element","to"],"sources":["/home/posiden/Documents/GitHub/A.I.D.E.N/aiden_frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\nimport { auth } from './firebaseConfig';\nimport Navbar from './Navbar';\nimport TaskList from './TaskList';\nimport AddTaskForm from './AddTaskForm';\nimport Login from './Login';\nimport UserProfile from './UserProfile'; // Import UserProfile\nimport { AuthProvider } from './AuthProvider'; // Import AuthProvider\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState(null);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setCurrentUser(user);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  const handleLogout = async () => {\n    await signOut(auth);\n  };\n\n  return (\n    <Router>\n      <AuthProvider value={{currentUser}}> {/* Ensure AuthProvider correctly passes down the currentUser */}\n        <div>\n          {currentUser ? (\n            <>\n              <Navbar handleLogout={handleLogout} currentUser={currentUser}/>\n              <Routes>\n                <Route path=\"/\" element={<TaskList />} />\n                <Route path=\"/add-task\" element={<AddTaskForm />} />\n                <Route path=\"/profile\" element={<UserProfile />} /> {/* Add route for UserProfile */}\n                <Route path=\"/login\" element={<Navigate to=\"/\" />} />\n              </Routes>\n            </>\n          ) : (\n            <Routes>\n              <Route path=\"/login\" element={<Login />} />\n              <Route path=\"*\" element={<Navigate to=\"/login\" />} />\n            </Routes>\n          )}\n        </div>\n      </AuthProvider>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,KAAK,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,OAASC,kBAAkB,CAAEC,OAAO,KAAQ,eAAe,CAC3D,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAE;AACzC,OAASC,YAAY,KAAQ,gBAAgB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE/C,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGvB,QAAQ,CAAC,IAAI,CAAC,CAEpDD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAyB,WAAW,CAAGlB,kBAAkB,CAACE,IAAI,CAAGiB,IAAI,EAAK,CACrDF,cAAc,CAACE,IAAI,CAAC,CACtB,CAAC,CAAC,CAEF,MAAO,IAAMD,WAAW,CAAC,CAAC,CAC5B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAnB,OAAO,CAACC,IAAI,CAAC,CACrB,CAAC,CAED,mBACEQ,IAAA,CAACd,MAAM,EAAAyB,QAAA,cACLT,KAAA,CAACJ,YAAY,EAACc,KAAK,CAAE,CAACN,WAAW,CAAE,CAAAK,QAAA,EAAC,GAAC,cACnCX,IAAA,QAAAW,QAAA,CACGL,WAAW,cACVJ,KAAA,CAAAE,SAAA,EAAAO,QAAA,eACEX,IAAA,CAACP,MAAM,EAACiB,YAAY,CAAEA,YAAa,CAACJ,WAAW,CAAEA,WAAY,CAAC,CAAC,cAC/DJ,KAAA,CAACd,MAAM,EAAAuB,QAAA,eACLX,IAAA,CAACb,KAAK,EAAC0B,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEd,IAAA,CAACN,QAAQ,GAAE,CAAE,CAAE,CAAC,cACzCM,IAAA,CAACb,KAAK,EAAC0B,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEd,IAAA,CAACL,WAAW,GAAE,CAAE,CAAE,CAAC,cACpDK,IAAA,CAACb,KAAK,EAAC0B,IAAI,CAAC,UAAU,CAACC,OAAO,cAAEd,IAAA,CAACH,WAAW,GAAE,CAAE,CAAE,CAAC,IAAC,cACpDG,IAAA,CAACb,KAAK,EAAC0B,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEd,IAAA,CAACX,QAAQ,EAAC0B,EAAE,CAAC,GAAG,CAAE,CAAE,CAAE,CAAC,EAC/C,CAAC,EACT,CAAC,cAEHb,KAAA,CAACd,MAAM,EAAAuB,QAAA,eACLX,IAAA,CAACb,KAAK,EAAC0B,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEd,IAAA,CAACJ,KAAK,GAAE,CAAE,CAAE,CAAC,cAC3CI,IAAA,CAACb,KAAK,EAAC0B,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEd,IAAA,CAACX,QAAQ,EAAC0B,EAAE,CAAC,QAAQ,CAAE,CAAE,CAAE,CAAC,EAC/C,CACT,CACE,CAAC,EACM,CAAC,CACT,CAAC,CAEb,CAEA,cAAe,CAAAV,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}